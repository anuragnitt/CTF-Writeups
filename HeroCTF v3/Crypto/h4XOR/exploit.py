from pwn import xor

enc = open('flag.png.enc', 'rb').read()

sign = bytes([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])
xor_key = xor(enc[:8], sign)

for i in range(0, 10):
    key = xor_key + bytes([i])
    with open(f'flag_{i}.png', 'wb') as dec:
        dec.write(xor(enc, key))

